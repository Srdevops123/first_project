<template>
    
    <template if:true={showCategoryBasedData}>
        <!-- <template if:true={showCollections}>
            <template if:true={collections.data}>
                <template for:each={collections.data} for:item='collection'>
                    <lightning-card key={collection.Id} title={collection.Name} name={collection.Id} onclick={collectionIdMethod}>
                            <template if:true={collectionCategories.data}> 
                                <lightning-card>
                                    <lightning-layout>
                                        <div class='slds-grid slds-wrap'>
                                        <template for:each={collectionCategories.data} for:item='categoryCollection'>
                                                <lightning-layout-item key={categoryCollection.Id} name={categoryCollection.Id}  class='slds-var-m-around_medium slds-size_1-of-12' >
                                                            <lightning-card >
                                                            <img src={uspolotshirtUrl} alt={categoryCollection.Name}>  
                                                            <h1>{categoryCollection.Product__r.Name}</h1>
                                                            <p>{categoryCollection.Category__r.Name}</p>
                                                            </lightning-card>
                                                </lightning-layout-item>
                                    </template>
                                    </div>
                                    </lightning-layout>
                                </lightning-card>
                             </template>  
                    </lightning-card>
                </template>
            </template>   
        </template> -->
        
            <template if:true={categoryProducts.data}> 
                <lightning-card title='Prodcuts'>
                    <lightning-layout >
                        <div class='slds-grid slds-wrap'>
                        <template for:each={categoryProducts.data.records} for:item='product'>
                                <lightning-layout-item key={product.Id} name={product.Id}  class='slds-var-m-around_medium slds-size_1-of-12' >
                                            <lightning-card>
                                            <img src={product.Image_URL__c} alt={product.Name} name={product.Id} onclick={ProductDetails} class="productImg">  
                                            <h1>{product.Name}</h1>
                                            </lightning-card>
                                </lightning-layout-item>
                        </template>
                        </div>

                    </lightning-layout>
                    <c-paginator
                    page-number={pageNumber}
                    page-size={categoryProducts.data.pageSize}
                    total-item-count={categoryProducts.data.totalItemCount}
                    onprevious={handlePreviousPage}
                    onnext={handleNextPage}
                ></c-paginator>
                    </lightning-card>
             </template>  
        </template>    

   <c-ko-site-category-product-variants-lwc></c-ko-site-category-product-variants-lwc>
</template>